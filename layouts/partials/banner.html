<!-- Banner -->
<section class="banner {{ .style }}">
    <div class="content">
        {{ with .title }}<h1>{{ . }}</h1>{{ end }}
        {{ with .subtitle }}<p class="major">{{ . | safeHTML }}</p>{{ end }}
        {{ with .content }}<p>{{ . | safeHTML }}</p>{{ end }}
        {{ if or .button .secondary_button }}
        <ul class="actions stacked">
            {{ with .button }}
            <li><a href="{{ .link }}" class="button primary large wide smooth-scroll-middle">{{ .label }}</a></li>
            {{ end }}
            {{ with .secondary_button }}
            <li><a href="{{ .link }}" class="button large wide smooth-scroll-middle">{{ .label }}</a></li>
            {{ end }}
        </ul>
        {{ end }}
    </div>
    {{ $bannerImages := .images }}
    {{ if and (not $bannerImages) .image }}{{ $bannerImages = slice .image }}{{ end }}
    {{ if $bannerImages }}
    <div class="image">
        <img id="hero-banner-image" src="{{ index $bannerImages 0 }}" alt="{{ $.title }}" />
    </div>
    <script>
      (function () {
        var images = {{ $bannerImages | jsonify | safeJS }};
        var imageEl = document.getElementById("hero-banner-image");
        if (!imageEl || !images || images.length < 2) return;
        var randomIndex = Math.floor(Math.random() * images.length);
        imageEl.src = images[randomIndex];
      })();
    </script>
    {{ end }}
</section>
